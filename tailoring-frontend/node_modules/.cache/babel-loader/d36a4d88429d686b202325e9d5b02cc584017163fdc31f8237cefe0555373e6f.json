{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\OneDrive\\\\\\u30C9\\u30AD\\u30E5\\u30E1\\u30F3\\u30C8\\\\reactjs\\\\tailoring-app\\\\src\\\\pages\\\\ChatPanel.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ChatPanel({\n  userId,\n  seller\n}) {\n  _s();\n  const [messages, setMessages] = useState([{\n    sender: \"seller\",\n    text: \"Welcome! How can I help you today?\",\n    time: Date.now()\n  }]);\n  const [input, setInput] = useState(\"\");\n  const chatEndRef = useRef(null);\n  useEffect(() => {\n    var _chatEndRef$current;\n    (_chatEndRef$current = chatEndRef.current) === null || _chatEndRef$current === void 0 ? void 0 : _chatEndRef$current.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, [messages]);\n  function sendMessage() {\n    if (!input.trim()) return;\n    setMessages(prev => [...prev, {\n      sender: \"customer\",\n      text: input,\n      time: Date.now()\n    }]);\n    setInput(\"\");\n    // Simulate seller reply\n    setTimeout(() => {\n      setMessages(prev => [...prev, {\n        sender: \"seller\",\n        text: \"Thank you for your enquiry! We'll get back to you soon.\",\n        time: Date.now()\n      }]);\n    }, 1200);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white/90 shadow-xl rounded-xl w-full mt-8 animate__animated animate__fadeIn\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-3 p-4 border-b bg-gradient-to-r from-green-200 to-blue-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: seller.photoUrl || seller.photo_url || \"/default-profile.png\",\n        alt: \"Seller\",\n        className: \"w-12 h-12 rounded-full border-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-bold text-lg text-green-700\",\n          children: seller.tailoringName || seller.shop_name || \"Seller\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-blue-700\",\n          children: seller.address || seller.shop_address || \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6 h-96 overflow-y-auto bg-gradient-to-br from-white to-blue-50\",\n      children: [messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `mb-2 flex ${msg.sender === \"customer\" ? \"justify-end\" : \"justify-start\"}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `p-2 rounded-lg max-w-xs ${msg.sender === \"customer\" ? \"bg-green-500 text-white\" : \"bg-gray-200\"}`,\n          children: msg.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this)\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: chatEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 border-t bg-white flex gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"flex-1 border rounded px-3 py-2 focus:ring-2 focus:ring-green-300\",\n        placeholder: \"Type your message...\",\n        value: input,\n        onChange: e => setInput(e.target.value),\n        onKeyDown: e => e.key === \"Enter\" && sendMessage()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bg-green-600 text-white px-5 py-2 rounded hover:bg-green-700 transition\",\n        onClick: sendMessage,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-xs text-gray-400 p-2 text-right\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"User ID: \", userId, \" | Seller ID: \", seller.id]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatPanel, \"l+91d0uXJ3CFHK/NOUCxH7W/4js=\");\n_c = ChatPanel;\nvar _c;\n$RefreshReg$(_c, \"ChatPanel\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","ChatPanel","userId","seller","_s","messages","setMessages","sender","text","time","Date","now","input","setInput","chatEndRef","_chatEndRef$current","current","scrollIntoView","behavior","sendMessage","trim","prev","setTimeout","className","children","src","photoUrl","photo_url","alt","fileName","_jsxFileName","lineNumber","columnNumber","tailoringName","shop_name","address","shop_address","map","msg","idx","ref","placeholder","value","onChange","e","target","onKeyDown","key","onClick","id","_c","$RefreshReg$"],"sources":["C:/Users/admin/OneDrive/ドキュメント/reactjs/tailoring-app/src/pages/ChatPanel.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\n\r\nexport default function ChatPanel({ userId, seller }) {\r\n  const [messages, setMessages] = useState([\r\n    { sender: \"seller\", text: \"Welcome! How can I help you today?\", time: Date.now() }\r\n  ]);\r\n  const [input, setInput] = useState(\"\");\r\n  const chatEndRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    chatEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [messages]);\r\n\r\n  function sendMessage() {\r\n    if (!input.trim()) return;\r\n    setMessages(prev => [\r\n      ...prev,\r\n      { sender: \"customer\", text: input, time: Date.now() }\r\n    ]);\r\n    setInput(\"\");\r\n    // Simulate seller reply\r\n    setTimeout(() => {\r\n      setMessages(prev => [\r\n        ...prev,\r\n        { sender: \"seller\", text: \"Thank you for your enquiry! We'll get back to you soon.\", time: Date.now() }\r\n      ]);\r\n    }, 1200);\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white/90 shadow-xl rounded-xl w-full mt-8 animate__animated animate__fadeIn\">\r\n      {/* Chat header */}\r\n      <div className=\"flex items-center gap-3 p-4 border-b bg-gradient-to-r from-green-200 to-blue-200\">\r\n        <img\r\n          src={seller.photoUrl || seller.photo_url || \"/default-profile.png\"}\r\n          alt=\"Seller\"\r\n          className=\"w-12 h-12 rounded-full border-2\"\r\n        />\r\n        <div>\r\n          <div className=\"font-bold text-lg text-green-700\">{seller.tailoringName || seller.shop_name || \"Seller\"}</div>\r\n          <div className=\"text-xs text-blue-700\">{seller.address || seller.shop_address || \"\"}</div>\r\n        </div>\r\n      </div>\r\n      {/* Chat messages */}\r\n      <div className=\"p-6 h-96 overflow-y-auto bg-gradient-to-br from-white to-blue-50\">\r\n        {messages.map((msg, idx) => (\r\n          <div\r\n            key={idx}\r\n            className={`mb-2 flex ${msg.sender === \"customer\" ? \"justify-end\" : \"justify-start\"}`}\r\n          >\r\n            <div\r\n              className={`p-2 rounded-lg max-w-xs ${\r\n                msg.sender === \"customer\" ? \"bg-green-500 text-white\" : \"bg-gray-200\"\r\n              }`}\r\n            >\r\n              {msg.text}\r\n            </div>\r\n          </div>\r\n        ))}\r\n        <div ref={chatEndRef} />\r\n      </div>\r\n      {/* Chat input */}\r\n      <div className=\"p-4 border-t bg-white flex gap-2\">\r\n        <input\r\n          className=\"flex-1 border rounded px-3 py-2 focus:ring-2 focus:ring-green-300\"\r\n          placeholder=\"Type your message...\"\r\n          value={input}\r\n          onChange={e => setInput(e.target.value)}\r\n          onKeyDown={e => e.key === \"Enter\" && sendMessage()}\r\n        />\r\n        <button className=\"bg-green-600 text-white px-5 py-2 rounded hover:bg-green-700 transition\" onClick={sendMessage}>Send</button>\r\n      </div>\r\n      {/* For debugging, show userId and sellerId */}\r\n      <div className=\"text-xs text-gray-400 p-2 text-right\">\r\n        <span>User ID: {userId} | Seller ID: {seller.id}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3D,eAAe,SAASC,SAASA,CAAC;EAAEC,MAAM;EAAEC;AAAO,CAAC,EAAE;EAAAC,EAAA;EACpD,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC,CACvC;IAAEW,MAAM,EAAE,QAAQ;IAAEC,IAAI,EAAE,oCAAoC;IAAEC,IAAI,EAAEC,IAAI,CAACC,GAAG,CAAC;EAAE,CAAC,CACnF,CAAC;EACF,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAMkB,UAAU,GAAGjB,MAAM,CAAC,IAAI,CAAC;EAE/BC,SAAS,CAAC,MAAM;IAAA,IAAAiB,mBAAA;IACd,CAAAA,mBAAA,GAAAD,UAAU,CAACE,OAAO,cAAAD,mBAAA,uBAAlBA,mBAAA,CAAoBE,cAAc,CAAC;MAAEC,QAAQ,EAAE;IAAS,CAAC,CAAC;EAC5D,CAAC,EAAE,CAACb,QAAQ,CAAC,CAAC;EAEd,SAASc,WAAWA,CAAA,EAAG;IACrB,IAAI,CAACP,KAAK,CAACQ,IAAI,CAAC,CAAC,EAAE;IACnBd,WAAW,CAACe,IAAI,IAAI,CAClB,GAAGA,IAAI,EACP;MAAEd,MAAM,EAAE,UAAU;MAAEC,IAAI,EAAEI,KAAK;MAAEH,IAAI,EAAEC,IAAI,CAACC,GAAG,CAAC;IAAE,CAAC,CACtD,CAAC;IACFE,QAAQ,CAAC,EAAE,CAAC;IACZ;IACAS,UAAU,CAAC,MAAM;MACfhB,WAAW,CAACe,IAAI,IAAI,CAClB,GAAGA,IAAI,EACP;QAAEd,MAAM,EAAE,QAAQ;QAAEC,IAAI,EAAE,yDAAyD;QAAEC,IAAI,EAAEC,IAAI,CAACC,GAAG,CAAC;MAAE,CAAC,CACxG,CAAC;IACJ,CAAC,EAAE,IAAI,CAAC;EACV;EAEA,oBACEX,OAAA;IAAKuB,SAAS,EAAC,gFAAgF;IAAAC,QAAA,gBAE7FxB,OAAA;MAAKuB,SAAS,EAAC,kFAAkF;MAAAC,QAAA,gBAC/FxB,OAAA;QACEyB,GAAG,EAAEtB,MAAM,CAACuB,QAAQ,IAAIvB,MAAM,CAACwB,SAAS,IAAI,sBAAuB;QACnEC,GAAG,EAAC,QAAQ;QACZL,SAAS,EAAC;MAAiC;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5C,CAAC,eACFhC,OAAA;QAAAwB,QAAA,gBACExB,OAAA;UAAKuB,SAAS,EAAC,kCAAkC;UAAAC,QAAA,EAAErB,MAAM,CAAC8B,aAAa,IAAI9B,MAAM,CAAC+B,SAAS,IAAI;QAAQ;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC9GhC,OAAA;UAAKuB,SAAS,EAAC,uBAAuB;UAAAC,QAAA,EAAErB,MAAM,CAACgC,OAAO,IAAIhC,MAAM,CAACiC,YAAY,IAAI;QAAE;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAENhC,OAAA;MAAKuB,SAAS,EAAC,kEAAkE;MAAAC,QAAA,GAC9EnB,QAAQ,CAACgC,GAAG,CAAC,CAACC,GAAG,EAAEC,GAAG,kBACrBvC,OAAA;QAEEuB,SAAS,EAAE,aAAae,GAAG,CAAC/B,MAAM,KAAK,UAAU,GAAG,aAAa,GAAG,eAAe,EAAG;QAAAiB,QAAA,eAEtFxB,OAAA;UACEuB,SAAS,EAAE,2BACTe,GAAG,CAAC/B,MAAM,KAAK,UAAU,GAAG,yBAAyB,GAAG,aAAa,EACpE;UAAAiB,QAAA,EAEFc,GAAG,CAAC9B;QAAI;UAAAqB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN;MAAC,GATDO,GAAG;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAUL,CACN,CAAC,eACFhC,OAAA;QAAKwC,GAAG,EAAE1B;MAAW;QAAAe,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrB,CAAC,eAENhC,OAAA;MAAKuB,SAAS,EAAC,kCAAkC;MAAAC,QAAA,gBAC/CxB,OAAA;QACEuB,SAAS,EAAC,mEAAmE;QAC7EkB,WAAW,EAAC,sBAAsB;QAClCC,KAAK,EAAE9B,KAAM;QACb+B,QAAQ,EAAEC,CAAC,IAAI/B,QAAQ,CAAC+B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;QACxCI,SAAS,EAAEF,CAAC,IAAIA,CAAC,CAACG,GAAG,KAAK,OAAO,IAAI5B,WAAW,CAAC;MAAE;QAAAU,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpD,CAAC,eACFhC,OAAA;QAAQuB,SAAS,EAAC,yEAAyE;QAACyB,OAAO,EAAE7B,WAAY;QAAAK,QAAA,EAAC;MAAI;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5H,CAAC,eAENhC,OAAA;MAAKuB,SAAS,EAAC,sCAAsC;MAAAC,QAAA,eACnDxB,OAAA;QAAAwB,QAAA,GAAM,WAAS,EAACtB,MAAM,EAAC,gBAAc,EAACC,MAAM,CAAC8C,EAAE;MAAA;QAAApB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC5B,EAAA,CA5EuBH,SAAS;AAAAiD,EAAA,GAATjD,SAAS;AAAA,IAAAiD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}