{"ast":null,"code":"import React from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function CustomerDashboard(_ref){let{sellers,userProfile}=_ref;const{sellerId}=useParams();const navigate=useNavigate();const selectedSellerId=sellerId||localStorage.getItem(\"selectedSellerId\");const userId=(userProfile===null||userProfile===void 0?void 0:userProfile.id)||localStorage.getItem(\"userId\");const userRoleId=1;// 1 = customer\nif(!Array.isArray(sellers)||sellers.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen text-gray-600\",children:\"No sellers found.\"});}const seller=sellers.find(s=>String(s.id)===String(selectedSellerId));if(!seller)return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen text-gray-600\",children:\"Seller not found.\"});const designs=Array.isArray(seller.designs)?seller.designs:Array.isArray(seller.portfolios)?seller.portfolios.map(d=>({imageUrl:d.image_url,title:d.title,description:d.description,contact:d.contact})):[];return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/80 p-4 rounded-xl shadow-lg mb-8 w-full max-w-2xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-6\",children:[/*#__PURE__*/_jsx(\"img\",{src:seller.photoUrl||seller.photo_url||\"/default-profile.png\",alt:\"Seller\",className:\"w-24 h-24 rounded-full border-4 border-green-400 shadow\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-green-700\",children:seller.tailoringName||seller.shop_name}),(seller.address||seller.shop_address)&&/*#__PURE__*/_jsx(\"div\",{className:\"text-base text-blue-600\",children:seller.address||seller.shop_address}),(seller.phone||seller.phone_number)&&/*#__PURE__*/_jsx(\"div\",{className:\"text-base text-gray-700\",children:seller.phone||seller.phone_number})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"mt-4 bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700 transition\",onClick:()=>{if(userId){// Use new URL pattern for chat page\nnavigate(\"/chat/\".concat(userRoleId,\"/\").concat(userId,\"/\").concat(seller.id));}},children:\"Chat with Seller\"})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-blue-700 mb-4\",children:\"All Designs\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-5xl\",children:designs.length>0?designs.map((design,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-4 flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:design.imageUrl||design.image_url,alt:design.title,className:\"h-32 w-full object-cover rounded mb-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-semibold text-green-700\",children:design.title}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600\",children:design.description}),design.contact&&/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500 text-xs mt-1\",children:design.contact})]},design.id||idx)):/*#__PURE__*/_jsx(\"div\",{className:\"col-span-full text-center text-gray-500 my-8 w-full\",children:\"No designs posted yet.\"})})]});}","map":{"version":3,"names":["React","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","CustomerDashboard","_ref","sellers","userProfile","sellerId","navigate","selectedSellerId","localStorage","getItem","userId","id","userRoleId","Array","isArray","length","className","children","seller","find","s","String","designs","portfolios","map","d","imageUrl","image_url","title","description","contact","src","photoUrl","photo_url","alt","tailoringName","shop_name","address","shop_address","phone","phone_number","onClick","concat","design","idx"],"sources":["C:/Users/admin/OneDrive/ドキュメント/reactjs/tailoring-app/src/pages/CustomerDashboard.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\n\r\nexport default function CustomerDashboard({ sellers, userProfile }) {\r\n  const { sellerId } = useParams();\r\n  const navigate = useNavigate();\r\n  const selectedSellerId = sellerId || localStorage.getItem(\"selectedSellerId\");\r\n  const userId = userProfile?.id || localStorage.getItem(\"userId\");\r\n  const userRoleId = 1; // 1 = customer\r\n\r\n  if (!Array.isArray(sellers) || sellers.length === 0) {\r\n    return <div className=\"flex items-center justify-center min-h-screen text-gray-600\">No sellers found.</div>;\r\n  }\r\n  const seller = sellers.find(s => String(s.id) === String(selectedSellerId));\r\n  if (!seller) return <div className=\"flex items-center justify-center min-h-screen text-gray-600\">Seller not found.</div>;\r\n\r\n  const designs = Array.isArray(seller.designs)\r\n    ? seller.designs\r\n    : Array.isArray(seller.portfolios)\r\n      ? seller.portfolios.map(d => ({\r\n          imageUrl: d.image_url,\r\n          title: d.title,\r\n          description: d.description,\r\n          contact: d.contact,\r\n        }))\r\n      : [];\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center p-6\">\r\n      <div className=\"bg-white/80 p-4 rounded-xl shadow-lg mb-8 w-full max-w-2xl\">\r\n        <div className=\"flex items-center gap-6\">\r\n          <img\r\n            src={seller.photoUrl || seller.photo_url || \"/default-profile.png\"}\r\n            alt=\"Seller\"\r\n            className=\"w-24 h-24 rounded-full border-4 border-green-400 shadow\"\r\n          />\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold text-green-700\">{seller.tailoringName || seller.shop_name}</h1>\r\n            {(seller.address || seller.shop_address) && (\r\n              <div className=\"text-base text-blue-600\">{seller.address || seller.shop_address}</div>\r\n            )}\r\n            {(seller.phone || seller.phone_number) && (\r\n              <div className=\"text-base text-gray-700\">{seller.phone || seller.phone_number}</div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <button\r\n          className=\"mt-4 bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700 transition\"\r\n          onClick={() => {\r\n            if (userId) {\r\n              // Use new URL pattern for chat page\r\n              navigate(`/chat/${userRoleId}/${userId}/${seller.id}`);\r\n            }\r\n          }}\r\n        >\r\n          Chat with Seller\r\n        </button>\r\n      </div>\r\n      <h2 className=\"text-xl font-semibold text-blue-700 mb-4\">All Designs</h2>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-5xl\">\r\n        {designs.length > 0 ? (\r\n          designs.map((design, idx) => (\r\n            <div\r\n              key={design.id || idx}\r\n              className=\"bg-white rounded-lg shadow p-4 flex flex-col items-center\"\r\n            >\r\n              <img src={design.imageUrl || design.image_url} alt={design.title} className=\"h-32 w-full object-cover rounded mb-2\" />\r\n              <div className=\"text-lg font-semibold text-green-700\">{design.title}</div>\r\n              <div className=\"text-gray-600\">{design.description}</div>\r\n              {design.contact && (\r\n                <div className=\"text-gray-500 text-xs mt-1\">{design.contact}</div>\r\n              )}\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <div className=\"col-span-full text-center text-gray-500 my-8 w-full\">\r\n            No designs posted yet.\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}